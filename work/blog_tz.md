## Техническое задание: разработка простого блога

### 1. Цель проекта
Создать веб-приложение «Простой блог», включающее административную панель для ведения статей и публичный фронтенд для их чтения. Обеспечить удобное управление контентом, базовую модернизацию данных и авторизованный доступ к административным функциям.

### 2. Основные роли
- **Гость** — просматривает статьи на публичном сайте.
- **Администратор** — авторизованный пользователь, управляющий статьями через административную панель.

### 3. Функциональные требования

#### 3.1 Административная панель
- **Аутентификация**
  - Доступ к админ-панели только после авторизации (e-mail + пароль).
  - Использовать встроенные механизмы приложения для авторизации и защиты роутов (middleware).
- **Управление статьями**
  - Создание статьи с полями: заголовок, слаг (уникальный URL-идентификатор), вводная часть (анонс), основная часть (полный текст), обложка (изображение), статус публикации (черновик/опубликована), дата публикации.
  - Редактирование и удаление существующих статей.
  - Загрузка обложки в формате JPEG/PNG/WebP; хранение файлов в публично доступном каталоге, путь сохраняется в БД.
  - Предпросмотр статьи перед публикацией (по желанию — отдельный экран или модальное окно).
- **Поиск и сортировка**
  - Поле поиска по заголовку и/или содержимому.
  - Возможность сортировки списка статей по дате публикации (по умолчанию — новые сверху), по заголовку, по статусу.
  - Отображение списка с пагинацией (размер страницы настраивается, по умолчанию 10 записей).
- **Валидация**
  - Обязательные поля: заголовок, вводная часть, основная часть.
  - Слаг — уникальный, приводится к нижнему регистру, формируется автоматически из заголовка с возможностью ручного редактирования.
  - Ограничение размера изображения (например, не более 2 МБ) и проверка расширения.

#### 3.2 Публичный фронтенд
- Главная страница отображает список опубликованных статей (только статус «опубликована») с превью: обложка, заголовок, вводная часть, дата публикации.
- Реализовать пагинацию списка статей.
- Возможность сортировки по дате и фильтрации по ключевым словам (поиск по заголовку).
- Страница просмотра статьи содержит: заголовок, обложку, дату публикации, вводную часть, основную часть.
- Минимальная SEO-поддержка: уникальный `<title>` и мета-описание из вводной части.

### 4. Нефункциональные требования
- **Технологический стек**: Laravel 12, Inertia.js (Vue 3), Tailwind CSS 4.
- **База данных**: MySQL (конфигурация подключения берётся из переменных окружения `.env`, строки 24–29).
- **Производительность**: время отклика страниц — до 1 секунды при типовой нагрузке (до 100 статей).
- **Безопасность**: защита административных маршрутов middleware, CSRF для форм, валидация файлов при загрузке.
- **Хранение файлов**: использовать стандартный файловый диск `public`; при необходимости — генерация URL через `Storage::url`.
- **Локализация**: интерфейс на русском языке.

### 5. Структура данных
- Таблица `posts`:
  - `id` (PK, bigint, auto increment)
  - `title` (string, 255)
  - `slug` (string, 255, unique)
  - `intro` (text)
  - `body` (longtext)
  - `cover_path` (string, nullable)
  - `status` (enum: draft, published)
  - `published_at` (datetime, nullable)
  - `created_at`, `updated_at` (timestamps)
- При необходимости — отдельная таблица для хранения истории изменений (необязательно, обсуждается отдельно).
- Инициализация: при первичном развертывании заполнить таблицу `posts` 5 тестовыми записями через сидер (или миграцию с данными), среди которых минимум 3 фиктивные статьи с псевдореальными заголовками и содержанием для проверки поиска и сортировки.
- Создать административную учетную запись `admin@mail.com` / `password` в начальных данных (сидер), предоставив ей доступ к админ-панели.
- При отсутствии загруженной обложки отображать стандартное изображение-заглушку `no-image.svg` (хранение в публичных ассетах проекта).

### 6. Админ-интерфейс
- Dashboard со списком статей:
  - Таблица с колонками: обложка (иконка/миниатюра), заголовок, статус, дата публикации, действия.
  - Контролы: поле поиска, выпадающий список сортировки, кнопка «Создать статью».
  - Действия в таблице: просмотр (предпросмотр), редактирование, удаление (с подтверждением).
- Форма создания/редактирования:
  - Поля: заголовок, слаг (редактируемый), загрузка изображения, вводная часть (textarea/редактор), основная часть (rich text редактор), выбор статуса, дата публикации (datepicker).
  - Кнопки: «Сохранить», «Сохранить и опубликовать», «Отменить».
  - Отображение ошибок валидации рядом с полями.

### 7. Публичный интерфейс
- Главная страница:
  - Сетка или список карточек статей (обложка, заголовок, вводная часть, кнопка/ссылка «Читать далее»).
  - Пагинация и блок поиска.
- Страница статьи:
  - Полноразмерная обложка (по дизайну можно ограничить высоту).
  - Корректное отображение форматирования в основной части (поддержка параграфов, заголовков, списков, цитат).
  - Блок «Другие статьи» (по желанию — список 3 последних опубликованных статей).

### 8. API и маршруты
- Административные маршруты помещаются под префикс `/admin` и защищаются middleware аутентификации.
- CRUD-операции для статей — через контроллер с использованием Form Request для валидации.
- Публичные маршруты: главная страница `/`, страница статьи `/posts/{slug}`.
- Реализовать REST API (по необходимости) для поиска/фильтрации, либо использовать серверный рендеринг Inertia.

### 9. Интеграции и зависимости
- Хранение изображений — локально; возможность расширения до облачного хранилища через драйверы файла.
- Возможность подключения WYSIWYG-редактора (обсуждается — выбрать библиотеку, совместимую с Vue 3).

### 10. План тестирования
- Unit/Feature тесты для CRUD операций статей (создание, обновление, удаление, фильтрация).
- Тесты авторизации: проверка недоступности `/admin` для неаутентифицированных и доступности для авторизованных.
- Тесты отображения публичных страниц (опубликованные статьи видны, черновики скрыты).

### 11. Дальнейшее развитие (по желанию)
- Поддержка тегов и категорий.
- Комментарии к статьям.
- Планировщик публикаций (отложенная публикация).
- Роли и права доступа для редакторов/авторов.

### 12. Критерии приёмки
- Все описанные функциональные требования реализованы и покрыты тестами.
- Админ-панель доступна только авторизованным пользователям.
- CRUD операций со статьями работают корректно, обеспечивают валидацию и загрузку изображений.
- Публичный сайт отображает только опубликованные статьи, поддерживает поиск и сортировку.
- Приложение использует MySQL с настройками из `.env`.
- Код оформлен согласно стандартам проекта (Laravel Pint), без критических ошибок линтера.

### 13. Примечание
Документ сгенерирован при помощи AI ассистента.

